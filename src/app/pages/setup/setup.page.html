<!-- setup.page.html -->
<ion-content class="ion-padding setup-content" [attr.data-theme]="isDarkMode ? 'dark' : 'light'">
  <div class="registration-card">
    <div class="logo-container">
      <div class="logo">
        <span class="logo-icon">ðŸ’°</span>
      </div>
      <h1 class="welcome-text">Â¡Bienvenid&#64;!</h1>
      <p class="subtitle">Comienza a organizar tus finanzas</p>
    </div>

    <form (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label class="form-label" for="nombre">Â¿CuÃ¡l es tu nombre?</label>
        <ion-input 
          type="text"
          id="nombre"
          class="form-input custom-input themed-input themed-input-fix"
          [(ngModel)]="userName" 
          name="userName" 
          required
          placeholder="Ingresa tu nombre"
          [clearInput]="true"
          autocapitalize="words">
        </ion-input>
      </div>

      <div class="form-group">
        <label class="form-label" for="apellido">Â¿CuÃ¡l es tu apellido?</label>
        <ion-input 
          type="text"
          id="apellido"
          class="form-input custom-input themed-input themed-input-fix"
          [(ngModel)]="userLastName" 
          name="userLastName" 
          required
          placeholder="Ingresa tu apellido"
          [clearInput]="true"
          autocapitalize="words">
        </ion-input>
      </div>

      <div class="form-group">
        <label class="form-label" for="moneda">Â¿CuÃ¡l es tu moneda?</label>
        <div class="dropdown-container">
          <ion-select
            id="moneda"
            class="currency-select custom-select themed-input themed-input-fix"
            [(ngModel)]="selectedCurrency"
            name="currency"
            (ionChange)="onCurrencyChange($event.detail.value)"
            interface="action-sheet"
            [interfaceOptions]="getSelectInterfaceOptions()"
            placeholder="Selecciona tu moneda"
            [style.--background]="isDarkMode ? 'var(--input-bg-dark)' : 'var(--input-bg-light)'"
            [style.--color]="isDarkMode ? '#f9fafb' : '#1f2937'"
            [style.border-color]="isDarkMode ? 'var(--input-border-dark)' : 'var(--input-border-light)'">
            <ion-select-option *ngFor="let currency of currencies" [value]="currency">
              {{currency.symbol}} - {{currency.name}}
            </ion-select-option>
          </ion-select>
        </div>
      </div>

      <button type="submit" class="button button-primary" [disabled]="!userName || !userLastName || !selectedCurrency.symbol">
        Comenzar
      </button>
    </form>

    <div class="terms">
      Al continuar, aceptas nuestra <a href="https://mybudget.christianferrer.me/privacy-policy" target="_blank">PolÃ­tica de privacidad</a>
    </div>

    <div class="steps-indicator">
      <div class="step active"></div>
      <div class="step"></div>
      <div class="step"></div>
    </div>
  </div>
</ion-content>